<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<title>Supervisory Control and Data Acquisition System</title>
<style>

<!--

/***************************************************/

/* MINIMAL STYLES */

/* The following section defines styles that every HTML Help project should need. */



/* Specifies White Background color */

body {background-color:#FFFFFF; font-family:Verdana, sans-serif; font-size:8pt; color: #000000;}



/* The default style of P is red to alert you that you need to apply a style class, such as Body. */

P { margin-top:6.00pt; margin-bottom:6.00pt;}



BR { font-size:4.00pt; }



/* Use H1 for all topic headings. */

H1 { margin-top:3.00pt; margin-bottom:3.00pt; font-size:150%; font-weight:bold;  }



/* Use H2 for second-level headings. */

H2 { margin-top:9.00pt; margin-bottom:3.00pt; font-size:125%; font-weight:bold;  }



/* Use H3 for third-level headings. */

H3 { margin-top:6.00pt; margin-bottom:3.00pt; font-size:100%; font-weight:bold;  }



/* Use H4 for fourth-level headings. */

H4 { margin-top:6.00pt; margin-bottom:3.00pt; font-size:100%; font-weight:bold;  }



/* H5 and H6 have the same definition as H4 because you should not need this level of heading in one topic. If you need to use H5 or H6, consider breaking up your topic into more than one topic. */

H5 { margin-top:6.00pt; margin-bottom:3.00pt; font-size:100%; font-weight:bold;  }

H6 { margin-top:6.00pt; margin-bottom:3.00pt; font-size:100%; font-weight:bold;  }



/* Use the Body style class for normal paragraphs. */

P.Body {  }



/* Use the Anchor style class for graphic references on a line by themselves. */

P.Anchor { font-size:125%;  }



/* Use the Indent style classes to indent a paragraph. If you need to indent text below a list item, use <br><br> to start the new paragraph within the same set of <li></li> tags. If you need to indent a list within another list, nest the indented list within the first list's set of <ol></ol> or <ul></ul> tags. */

P.Indent1 { margin-left:12.00pt; margin-bottom:3.00pt;  }

P.Indent2 { margin-left:24.00pt; margin-bottom:3.00pt;  }

P.Indent3 { margin-left:36.00pt; margin-bottom:3.00pt;  }

P.Indent4 { margin-left:48.00pt; margin-bottom:3.00pt;  }

P.Indent5 { margin-left:60.00pt; margin-bottom:3.00pt;  }



/* Use the LI style for all list items. */

LI { margin-top:3.00pt; margin-bottom:3.00pt; }



/* Use the OL style for numbered lists. You do not have to type the number for each list item in a numbered list. */

OL { margin-left:22.00pt; margin-top:3.00pt; margin-bottom:3.00pt; text-indent:0pt; list-style-type: decimal; }



/* Use the OL style for numbered lists. Nested lists will use the bullet types according to the nesting scheme below */

ol ol {list-style-type:lower-alpha}

ol ol ol {list-style-type:decimal}

ol ol ol ol {list-style-type:lower-alpha}

ol ol ol ol ol {list-style-type:decimal}

ol ol ol ol ol ol {list-style-type:lower-alpha}

ol ol ol ol ol ol ol {list-style-type:decimal}

ol ol ol ol ol ol ol ol {list-style-type:lower-alpha}





/* Use the EquationNum style class for numbered lists of equations. You do not have to type the number for each list item in a numbered list. */

OL.EquationNum { margin-left:36.00pt; text-indent:0pt; list-style-type: decimal; }



/* Use the List-abc style class for lettered lists. You do not have to type the letter for each list item in a lettered list. */

OL.List-abc { margin-left:22.00pt; text-indent:0pt; list-style-type:lower-alpha; }



/* Use the UL style for bulleted lists. You do not have to type the bullet for each list item in a bulleted list. */

UL { margin-left:22.00pt; text-indent:0pt; margin-top:3.00pt; margin-bottom:3.00pt; list-style-type: disc; }



/* Use the UL style for bulleted lists. Nested lists will use the bullet types according to the nesting scheme below. */

ul ul {list-style-image: none;list-style-type: circle}

ul ul ul {list-style-image:none;list-style-type:disc}

ul ul ul ul {list-style-image: none;list-style-type: circle}

ul ul ul ul ul {list-style-image:none;list-style-type:disc}

ul ul ul ul ul ul {list-style-image: none;list-style-type: circle}

ul ul ul ul ul ul ul {list-style-image:none;list-style-type:disc}

ul ul ul ul ul ul ul ul ul{list-style-image: none;list-style-type: circle}



/* Use the List-Box style class for bulleted lists with boxes instead of bullets. You do not have to type the box for each list item in a box list. */

UL.List-Box { list-style-image: none;list-style-type: square}



Table { font-size:100%; }



/* Use the Borderless style class for tables that do not need borders, such as for 2-column or 3-column lists with no headings. */

Table.Borderless { border:none; }



/* Use the Bordered style class for tables that need borders. */

Table.Bordered { border-width: 1pt; border-style: solid; border-color: #000000; border-collapse: collapse; }



/* Use the TD style for table cells in Borderless or Borderless-Wide tables. */

TD { vertical-align:top; padding:3px; }



/* Use the Bordered style class for table headings and cells in Bordered or Bordered-Wide tables. */

.Bordered { border-width: 1pt; border-style: solid; border-color: #000000; }



/* Use the Icon style class for table cells that contain note, caution, warning, or tip icons, or LabVIEW datatype terminals. */

TD.Icon { width:40px; }



/* Use the TH style for table heading cells in Borderless or Borderless-Wide tables. */

TH { font-weight:bold; padding:3px; }



/* Use the Left-Align style class for table headings and cells that you want to left align instead of center align. */

.Left-Align { text-align:left; }



/***************************************************/

/* CHARACTER FORMATS */

/* The following section defines character formats that every HTML Help project should need. */



/* CHARACTER FORMATS Updated to conform with the CSE HTML Validator Pro */

/* The following section defines character formats that every HTML Help project should need. */



/* Use the Dark-Red format for warnings or cautions. */

.Dark-Red { color: #800000 }



/* Use the Monospace format for code or syntax examples. */

.Monospace { font-family: Courier New; font-size: 100%; }



/* Use the Monospace-Bold format for messages and responses that the computer automatically prints to the screen. */

.Monospace-Bold { font-family: Courier New; font-weight: bold; font-size: 100%; }



/* Use the Monospace-Italic format to denote text that is a placeholder for a word or value that the user must supply. */

.Monospace-Italic { font-family: Courier New; font-style: italic; font-size: 100%; }



/* small class */

.smallFont { font-size:87.5%; }



/* Bold class */

.Bold { font-weight: bold; }



/* Italic class */

.Italic { font-style: italic; }



/* Use the Platform format to denote a specific platform. */

.Platform { color: #0000FF; font-weight: bold; }



/* Use the Symbol format for characters not in the Verdana character set. Use this format sparingly. When possible, you should use the correct ASCII code for the symbol or use a graphic to recreate the symbol. */

.Symbol { font-family: Symbol; }



/* Use the Red-text format to call attention to text that needs  information added or edited by techcomm */

.Red-text {color: #FF0000;}



/* Use the Green-Underline format for the green defintion in the conventions topic */

.Green-Underline {color: #007700; text-decoration : underline;}



/* Use the glossButton format for the glossary buttons used in the glossary topic */

.glossButton { font-size:12px; color:black; }



/* Use for text sections and hyphenated words that should not break at line wraps */

.nobreak{white-space:nowrap}



/* Use for template instructions. */

.instructions{color:red; font-style:italic}



/*Use for words and text sections that do not need to be localized */

.DNL { }



/* The following styles define the color of links. */

a:link { color: #007700 }

a:visited { color: #7F007F }

a:link:hover { color: #FF0000 }

a:link:active { color: #FF0000 }



/***************************************************

** Forms */



form { margin-top:0pt; margin-bottom:3pt; color:black; }

select { font-size:100%; color:black; }



/*******************************************************

** Margins **

** Use these styles for block-level elements inside tables cells or list items where you do not want extra padding at the top or bottom of a cell. */

.noTopMargin { margin-top:0pt;}

.noBottomMargin { margin-bottom:0pt;}



/***************************************************

** CODE STYLES **

** The following section defines styles that you need to format entire sections of code or syntax examples. If you have just a few words you need to format as a code or syntax example, use the Monospace character format. */



P.Code { margin-top:3.00pt; margin-bottom:0.00pt; font-family:Courier New;  }

P.Code1 { margin-left:12.00pt; margin-top:3.00pt; margin-bottom:0.00pt; font-family:Courier New;  }

P.Code2 { margin-left:24.00pt; margin-top:3.00pt; margin-bottom:0.00pt; font-family:Courier New;  }

P.Code3 { margin-left:36.00pt; margin-top:3.00pt; margin-bottom:0.00pt; font-family:Courier New;  }

-->
</style>
<script type="text/javascript"> // define hyperlinks and function for launching a URL in a browser

var L_walkthrough = "http://digital.ni.com/express.nsf/bycode/DW_DSCSCADA";


function WWW(url) 
	{
	var urlWindow;
	urlWindow = window.open(url, "New", "directories=yes,location=yes,menubar=yes,resizable=yes,scrollbars=yes,status=yes,toolbar=yes");
	}
</script>

</HEAD>
<body>

<h1>Supervisory Control and Data Acquisition System</h1>

<p class="Body">The Supervisory Control and Data Acquisition System sample project demonstrates how to implement a supervisory control and data acquisition (SCADA) system with scalable architecture for building systems with a large number of I/O points.</p>                                                                   

<h2>Features</h2>

<ul>
	<li>SCADA server&#8212;The SCADA server manages I/O points in the system, logs data and alarms in the historical database, and regularly archives data from the logging database to the archive database.</li>
	<li>Administrator console&#8212;The administrator console allows the system administrator to configure and manage the SCADA server.</li>
	<li>Client&#8212;The client allows the operators to monitor the system status and I/O points. The operator can view the values of the I/O points, alarms, and historical trends in different detailed views.</li>
	<li>Simulated CompactRIO system and simulated PLC-based system&#8212;A simulated CompactRIO system and a simulated PLC-based system are included in this sample project. The systems demonstrate how to connect to third-party devices. You can replace the simulated systems with a real CompactRIO system and a real PLC-based system.</li>
    <li>Scalability&#8212;You can use this sample project as a starting point to scale to a large system by adding a large number of I/O points or adding many subsystems in this sample project.</li>
</ul>

<a name="system_req"></a><h2>System Requirements</h2>
<ul>
	<li>LabVIEW Base, Full, or Professional Development System (32-bit)</li>
	<li>LabVIEW Datalogging and Supervisory Control Module</li>
</ul>

<h2>Overview</h2>
<p class="Body">This sample project consists of two main parts: the server and the client. Both the server and the client are based on the Queued Message Handler template.</p>

<p class="Body">The server consists of the following components:
<ul>
<li><strong>Server Main</strong>&#8212;Shows the server running log. <strong>Server Main</strong> is the main user interface of the SCADA server and is responsible for managing shared variables, data logging, and data archiving. <strong>Server Main</strong> includes the following loops running in parallel:
  <ul>
  <li>Event Handling Loop&#8212;Processes user interface events and sends messages to the UI Message Loop.</li>
  <li>UI Message Loop&#8212;Handles UI messages from the server and transmits messages for message loops.</li>
  <li>Shared Variable Management Loop&#8212;Manages shared variables.</li>
  <li>Archive Management Loop&#8212;Handles archiving functionality.</li>
  <li>Timer Loop&#8212;Acts as a timer to trigger archiving. This timer loop pauses when archiving is disabled.</li>
  </ul>
</li>
<li><strong>Administrator Console</strong>&#8212;Sends configuration changes to the server. When the server receives the changes, the server applies the changes. <strong>Administrator Console</strong> includes the following loops running in parallel:
  <ul>
  <li>Event Handling Loop&#8212;Processes user interface events and sends messages to the Message Handling Loop.</li>
  <li>Message Handling Loop&#8212;Handles messages for the Administrator Console.</li>
  </ul>
</li>
</ul>

<p class="Body">The client consists of the following components:
<ul>
<li><strong>Client Main</strong>&#8212;Displays an overview of the SCADA system and lists valid subsystems. <strong>Client Main</strong> includes the following loops running in parallel: 
  <ul>
  <li>Event Handling Loop&#8212;Processes user interface events and sends messages to the Message Handling Loop.</li>
  <li>Message Handling Loop&#8212;Handles messages for the client.</li>
  </ul>
</li>
<li><strong>Detailed View</strong>&#8212;Shows detailed information of a subsystem. <strong>Detailed View</strong> includes the following loops running in parallel: 
  <ul>  
  <li>Event Handling Loop&#8212;Processes user interface events and sends messages to the Message Handling Loop.</li>
  <li>Message Handling Loop&#8212;Handles messages for the Detailed View.</li>
  </ul>  
  <strong>Detailed View</strong> also includes the following detailed subviews: 
  <ul>
  <li>Subsystem View&#8212;Shows a graph of systems and a list of I/O points for a specified subsystem.</li>
  <li>Alarm &amp; Event List&#8212;Shows a list of alarms and events for a specified subsystem.</li>
  <li>Historical Trend&#8212;Shows the historical trends for a specified subsystem.</li>
  </ul>       
</li>        
</ul>

<p>The following illustration shows the structure of this sample project and the relationships between the user interface loops and the user interface VIs.</p> 
<table class="Borderless"><tr><td class="Icon"><img src="noloc_note.png"></td><td><strong>Note</strong>&nbsp;&nbsp;A VI that is not a subVI of its caller VI is highlighted with a gray dotted line. For example, the Administrator Console VI is not a subVI of the Server Main VI. The Server Main VI uses the Administrator Console VI by starting an asynchronous call.</td></tr></table>  
 
<img src="noloc_dsc_SCADA.gif" style="width: 100%;max-width:1197px;min-width: 768px;">

</p>

<h2>Running this Sample Project</h2>

<ol>
<li>In the <strong>Project Explorer</strong> window, right-click <strong>IO Simulation&#0187;OPC Server Configuration.opf</strong> and select <strong>Open</strong> to load the configuration file for the NI OPC Servers.</li>
<li>In the <strong>NI OPC Servers</strong> dialog box, click <strong>Yes</strong> to apply the configuration for the NI OPC Servers at run time.</li>
<li>In the <strong>Project Explorer</strong> window, right-click <strong>IO Simulation&#0187;PLC1.lvlib</strong> and select <strong>Deploy</strong> from the shortcut menu to create a simulated OPC process.</li>
<li>Open and run <strong>IO Simulation&#0187;cRIO.lvlib&#0187;cRIO IO Simulation.vi</strong> to create a simulated CompactRIO process.</li>
<li>Open and run <strong>Server Main.vi</strong> to start the SCADA server.</li>
<li>Open and run <strong>Client Main.vi</strong> to open the client.</li>
</ol>

<h2>Modifying this Sample Project</h2>
<h3>Adding Simulated CompactRIO Processes</h3>
<p class="Body">You can add one or more simulated CompactRIO processes in this sample project. Complete the following steps to add a simulated CompactRIO process.</p>
<ol>
    <li>In the <strong>Project Explorer</strong> window, right-click <strong>IO Simulation&#0187;cRIO1.lvlib</strong> and select <strong>Save&#0187;Save As</strong> from the shortcut menu.</li>
	<li>(Optional) Specify a name for the CompactRIO process.</li>
	<li>Click <strong>Continue</strong> to open the <strong>Select a Directory</strong> dialog box.</li>
	<li>Specify a directory where you want to save this library and click <strong>Save</strong>.</li>
	<li>Expand the library that you created, right-click <strong>cRIO IO Simulation.vi</strong> and select <strong>Open</strong>.</li>
	<li>(Optional) Replace the <strong>cRIO1</strong> string input with the name that you specified for the new simulated process and save the change.</li>
	<li>Open and run <strong>cRIO IO Simulation.vi</strong> in the new library to create a simulated CompactRIO process.</li>
</ol>

<h3>Adding Simulated PLC-based Processes</h3>
<p class="Body">You can add one or more simulated PLC-based processes in this sample project. Complete the following steps to add a simulated PLC-based process.</p>
<ol>
    <li>In the <strong>Project Explorer</strong> window, right-click <strong>IO Simulation&#0187;OPC Server Configuration.opf</strong> and select <strong>Open</strong> to load the configuration file for the NI OPC Servers.</li>
	<li>In the <strong>NI OPC Servers</strong> dialog box, click <strong>Yes</strong> to apply the configuration for the NI OPC Servers at run time.</li>
	<li>In the <strong>NI OPC Servers</strong> application, expand <strong>Channel</strong>, right-click <strong>Subsystem IO Template</strong> and select <strong>Copy</strong> from the shortcut menu.</li>
	<li>Right-click <strong>Channel</strong> and select <strong>Paste</strong> from the shortcut menu to open the <strong>Device Properties</strong> dialog box.</li>
	<li>Specify the properties for the new channel and click <strong>OK</strong>. LabVIEW creates a new subsystem IO template under <strong>Channel</strong>.</li>
	<li>Select <strong>File&#0187;Save</strong>.</li>
	<li>In the <strong>Project Explorer</strong> window, right-click <strong>IO Simulation&#0187;PLC1.lvlib</strong> and select <strong>Deploy</strong> from the shortcut menu.</li>
</ol>
<table class="Borderless"><tr><td class="Icon"><img src="noloc_tip.png"></td><td><strong>Tip</strong>&nbsp;&nbsp;	You also can add a simulated PLC-based process by deploying a copy of the existing simulated PLC-based library.</td></tr></table>


<h3>Adding Subsystems Bound to Simulated Processes Using the Configuration File</h3>
<p class="Body">You can add subsystems that are bound to a simulated CompactRIO process or a PLC-based process by modifying the configuration file for the server. You do not need to create a simulated process in the variable engine before you create a bound subsystem.</p>
<ol>
    <li>In the <strong>Project Explorer</strong> window, right-click <strong>Configuration Files&#0187;Server.ini</strong> and select <strong>Open</strong> to open the configuration file for the server.</li>
    <li>Add a new subsystem entry in the configuration file. For example, you can add a subsystem named <span class="Monospace">Subsystem3</span> and specify the URL for this subsystem.</li>
	<li>Save the changes. You must restart the server for changes to take effect.</li>
</ol>

<h3>Adding Subsystems Bound to Simulated Processes Using the Server Dialog Box</h3>
<p class="Body">You can add subsystems that are bound to a simulated CompactRIO process or a simulated PLC-based process by configuring the <strong>Server</strong> dialog box. Before you can create a bound subsystem, you must create a simulated process in the variable engine.</p>
<ol>
    <li>In the <strong>Project Explorer</strong> window, open and run <strong>My Computer&#0187;Server Main.vi</strong> to display the <strong>Server</strong> dialog box.</li>
    <li>Click the <strong>Administrator Console</strong> button in the <strong>Server</strong> dialog box to open the <strong>Administrator Console</strong> dialog box.</li>
	<li>Click the <strong>Configure System</strong> button to open the <strong>Configure System Dialog</strong> dialog box.</li>
	<li>Click the add button next to the <strong>Subsystems</strong> field to open the <strong>Add Subsystem Dialog</strong> dialog box.</li>
	<li>Specify a name and binding simulated process URL for the subsystem.</li>
	<li>Click the <strong>OK</strong> button to apply the changes and close the dialog box.</li>
</ol>

<h2>Additional Resources</h2>
<p class="Body">Refer to the <em>LabVIEW Help</em>, available by selecting <strong>Help&#0187;LabVIEW Help</strong> from LabVIEW, for information about LabVIEW concepts or objects used in this sample project. You also can use the <strong>Context Help</strong> window to learn basic information about LabVIEW objects as you move the cursor over each object. To display the <strong>Context Help</strong> window in LabVIEW, select <strong>Help&#0187;Show Context Help</strong>.</p>
<p class="Body">This sample project is based on the Queued Message Handler template and uses LabVIEW Datalogging and Supervisory Control Module features, such as HMI design, third-party connectivity, historical data logging, and alarm logging. Refer to the Queued Message Handler template and its documentation, available from the <strong>Create Project</strong> dialog box, for information about how the Queued Message Handler template works.</p>
<p class="Body">Refer to <a href="javascript:WWW(L_walkthrough)">ni.com</a> for a developer walkthrough of this sample project.</p>

	
<hr>
<h2>Important Information</h2>
<!--Copyright-->
<p class="Body"><strong>Copyright</strong></p>
<p class="Body">&#0169; 2014 National Instruments. All rights reserved.</p>

<p class="Body">Under the copyright laws, this publication may not be reproduced or transmitted in any form, electronic or mechanical, including photocopying, recording, storing in an information retrieval system, or translating, in whole or in part, without the prior written consent of National Instruments Corporation.</p>

<p class="Body">National Instruments respects the intellectual property of others, and we ask our users to do the same.  NI software is protected by copyright and other intellectual property laws.  Where NI software may be used to reproduce software or other materials belonging to others, you may use NI software only to reproduce materials that you may reproduce in accordance with the terms of any applicable license or other legal restriction.</p>

<p class="Body"><strong>End-User License Agreements and Third-Party Legal Notices</strong></p>
<p class="Body">You can find end-user license agreements (EULAs) and third-party legal notices in the following locations after installation:</p>
<ul>
<li>Notices are located in the <span class="Monospace">&lt;National Instruments&gt;\_Legal Information</span> and <span class="Monospace">&lt;National Instruments&gt;</span> directories.</li> 
<li>EULAs are located in the <span class="Monospace">&lt;National Instruments&gt;\Shared\MDF\Legal\license</span> directory.</li>
<li>Review <span class="Monospace">&lt;National Instruments&gt;\_Legal Information.txt</span> for information on including legal information in installers built with NI products.</li>
</ul>

<!--Trademarks-->
<p class="Body"><strong>Trademarks</strong></p>

<p class="Body">Refer to the <em><span class="DNL">NI Trademarks and Logo Guidelines</span></em> at <a href="http://digital.ni.com/express.nsf/bycode/rdtrad" target="_blank"><span class="DNL">ni.com/trademarks</span></a> for information on <span class="DNL">National Instruments</span> trademarks. Other product and company names mentioned herein are trademarks or trade names of their respective companies.</p>

<!--Patents-->
<p class="Body"><strong>Patents</strong></p>
<p class="Body">For patents covering the National Instruments products/technology, refer to the appropriate location: <strong>Help&#0187;Patents</strong> in your software, the <span class="Monospace">patents.txt</span> file on your media, or the <a href="http://digital.ni.com/express.nsf/bycode/rdlv17" target="_blank">National Instruments Patent Notice</a> at <span class="Monospace">ni.com/patents</span>.</p>

</body>
</html>
